<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Setup: Warehouse operator and safety seal | NEM blockchain applied to supply chain</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="Setup: Warehouse operator and safety seal" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The creation of the company’s, warehouse operator’s account and registration of the mosaic are actions that are performed once. For this kind of tasks, we normally use the NEM2-CLI." />
<meta property="og:description" content="The creation of the company’s, warehouse operator’s account and registration of the mosaic are actions that are performed once. For this kind of tasks, we normally use the NEM2-CLI." />
<link rel="canonical" href="http://localhost:4000/en/lessons/setup/" />
<meta property="og:url" content="http://localhost:4000/en/lessons/setup/" />
<meta property="og:site_name" content="NEM blockchain applied to supply chain" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-11T14:48:20+08:00" />
<script type="application/ld+json">
{"headline":"Setup: Warehouse operator and safety seal","dateModified":"2019-03-11T14:48:20+08:00","description":"The creation of the company’s, warehouse operator’s account and registration of the mosaic are actions that are performed once. For this kind of tasks, we normally use the NEM2-CLI.","datePublished":"2019-03-11T14:48:20+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/en/lessons/setup/"},"@type":"BlogPosting","url":"http://localhost:4000/en/lessons/setup/","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/en/assets/main.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/en/feed.xml" title="NEM blockchain applied to supply chain" /></head>
<body><header class="site-header" role="banner">

    <div class="wrapper"><a class="site-title" rel="author" href="/en/"><span><img src="/en/assets/logo-nem.svg"/></span> workshop</a><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />
            <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
            </label>

            <div class="trigger">
                <div class="changeLanguage">
                <select onchange="changeLanguage('/lessons/setup/')" id="languageType">
                  <option value ="language" disabled selected>Language</option>
                  <option value ="en">English</option>
                  <option value ="ch">中文</option>
                </select>
              </div>
                <i class="fab fa-github"></i> <a class="page-link" href="/edit/master/_lessons/08-setup.markdown"> Edit on GitHub</a>
            </div>
        </nav></div>
</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="row">

    <div class="sidebar-wrapper col-3">
        <ol><li>
                <a href="/en/lessons/introduction/">
                    Introduction
                </a>
            </li><li>
                <a href="/en/lessons/prepare-your-workstation/">
                    Prepare your workstation
                </a>
            </li><li>
                <a href="/en/lessons/use-case/">
                    Use case: Blockchain applied to supply chain
                </a>
            </li><li>
                <a href="/en/lessons/scope-definition/">
                    Scope definition
                </a>
            </li><li>
                <a href="/en/lessons/authorisation-modelling/">
                    Authorisation modelling
                </a>
            </li><li>
                <a href="/en/lessons/data-modelling/">
                    Data modelling
                </a>
            </li><li>
                <a href="/en/lessons/solution/">
                    One possible solution
                </a>
            </li><li>
                <a href="/en/lessons/setup/">
                    Setup: Warehouse operator and safety seal
                </a>
            </li><li>
                <a href="/en/lessons/registering-products/">
                    Registering products
                </a>
            </li><li>
                <a href="/en/lessons/sending-the-safety-seal/">
                    Sending the safety seal
                </a>
            </li><li>
                <a href="/en/lessons/adding-a-digital-sensor/">
                    Adding a digital sensor
                </a>
            </li><li>
                <a href="/en/lessons/adding-another-operator/">
                    Adding another operator
                </a>
            </li><li>
                <a href="/en/lessons/future-work-multilevel-multisig-accounts/">
                    Future work
                </a>
            </li></ol>

        <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-text="NEM blockchain applied to supply chain #NEM" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>

    <div class="col-9">
        <article class="lesson h-entry" itemscope itemtype="http://schema.org/BlogPosting">

            <header class="lesson-header">
                <h1 class="lesson-title p-name" itemprop="name headline">Setup: Warehouse operator and safety seal</h1>
            </header>

            <div class="lesson-content e-content" itemprop="articleBody">
                <p>The creation of the company’s, warehouse operator’s account and registration of the mosaic are <strong>actions that are performed once</strong>. For this kind of tasks, we normally use the <strong>NEM2-CLI</strong>.</p>

<h2 id="creating-warehouse-operators-account">Creating warehouse operator’s account</h2>

<p>1. Open a terminal, and generate a new account.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli account generate
Introduce network <span class="nb">type</span> <span class="o">(</span>MIJIN_TEST, MIJIN, MAIN_NET, TEST_NET<span class="o">)</span>: MIJIN_TEST
Do you want to save it? <span class="o">[</span>y/n]: y
Introduce NEM 2 Node URL. <span class="o">(</span>Example: http://localhost:3000<span class="o">)</span>: http://localhost:3000
Insert profile name <span class="o">(</span>blank means default and it could overwrite the previous profile<span class="o">)</span>: operator</code></pre></figure>

<p>2. Get the warehouse operator’s account’s key pair and address.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli profile list</code></pre></figure>

<h2 id="creating-companys-account">Creating company’s account</h2>

<p>Performing actions in the blockchain have a cost. This is necessary to provide an incentive for those who validate and secure the network. The fee is paid in <strong>XEM</strong>, the underlying cryptocurrency of the NEM network.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ℹ️ In a private network, you could set transaction fees to 0.
</code></pre></div></div>

<p>Instead of creating a new account, let’s use an account which already has XEM. We will need it to register the namespace and mosaic.</p>

<p>1. Open a terminal. Then go to the directory where you have download Catapult Bootstrap Service.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> <span class="nb">cd  </span>build/generated-addresses/
<span class="nv">$&gt;</span> <span class="nb">cat </span>addresses.yaml</code></pre></figure>

<p>Under the section <code class="highlighter-rouge">nemesis_addresses</code>, you will find the key pairs which contain XEM.</p>

<p>2. Load the first account as a profile in NEM2-CLI. This account identifies the company.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli profile create

Introduce network <span class="nb">type</span> <span class="o">(</span>MIJIN_TEST, MIJIN, MAIN_NET, TEST_NET<span class="o">)</span>: MIJIN_TEST
Introduce your private key: 41<span class="k">************************************************************</span>FF
Introduce NEM 2 Node URL. <span class="o">(</span>Example: http://localhost:3000<span class="o">)</span>: http://localhost:3000
Insert profile name <span class="o">(</span>blank means default and it could overwrite the previous profile<span class="o">)</span>: company</code></pre></figure>

<h2 id="register-companys-namespace">Register company’s namespace</h2>

<p>The company registers the namespace by announcing a <a href="https://nemtech.github.io/guides/namespace/registering-a-namespace.html">RegisterNamespaceTransaction</a>. Once announced the transaction, the server will return an OK response.</p>

<p><strong>Receiving an OK response doesn’t mean the transaction is valid, hence is is still not included in a block.</strong> A good practice is to monitor transactions before announcing them.</p>

<p>1. Open two new terminals. The first terminal monitors announced transactions <strong>validation errors</strong>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli monitor status <span class="nt">--profile</span> company</code></pre></figure>

<p>Once a transaction is included in a block, you will see it under the <strong>confirmed</strong> terminal.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli monitor confirmed <span class="nt">--profile</span> company</code></pre></figure>

<p>2. Register the namespace <code class="highlighter-rouge">company</code>, setting a lease duration expressed in blocks.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ℹ️ By default blocks complete every 15 seconds on average. 90000 blocks are 15,62 days approximately. 
</code></pre></div></div>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli transaction namespace <span class="nt">--name</span> company <span class="nt">--rootnamespace</span> <span class="nt">--duration</span> 90000 <span class="nt">--profile</span> company</code></pre></figure>

<p>3. Did the network confirm the transaction? Check the opened terminals.</p>

<h2 id="register-companysafety-subnamespace">Register company.safety subnamespace</h2>

<p>Once the company’s namespace has been registered, you can create related subnamespaces.</p>

<p>Register the subnamespace <code class="highlighter-rouge">company.safety</code>:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli  transaction namespace <span class="nt">--name</span> safety <span class="nt">--subnamespace</span>  <span class="nt">--parentname</span> company <span class="nt">--profile</span> company</code></pre></figure>

<h2 id="create-companysafetyseal-mosaic">Create company.safety:seal mosaic</h2>

<p>The mosaic name is <code class="highlighter-rouge">seal</code> and the parent namespace <code class="highlighter-rouge">company.safety</code>.  Create it with a total <code class="highlighter-rouge">supply</code> of 1.000.000.</p>

<p>Define this mosaic as <code class="highlighter-rouge">transferable</code>, with <code class="highlighter-rouge">divisibility</code> 0 (without decimals) and with <code class="highlighter-rouge">lease duration</code> of 90000 blocks. <code class="highlighter-rouge">supply mutable</code> option allows you to increase or decrease the amount of this type of mosaics in the future.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ℹ️ XEM has divisibility 6. 1.000 in absolute amount is written 1000000000. 
</code></pre></div></div>

<p>1. Create the mosaic.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli transaction mosaic <span class="nt">--mosaicname</span> seal <span class="nt">--namespacename</span> company.safety <span class="nt">--amount</span> 1000000 <span class="nt">--transferable</span> <span class="nt">--supplymutable</span> <span class="nt">--divisibility</span> 0 <span class="nt">--duration</span> 90000 <span class="nt">--profile</span> company</code></pre></figure>

<p>2. Transfer 1.000 company.safety:seal and 1.000 XEM to operator’s account.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$&gt;</span> nem2-cli transaction transfer <span class="nt">--profile</span> company
Introduce the recipient address: SA56XXRVS7NG7UH3DTZEMRIVJJLDXXPKAYQAFT2S
Introduce the mosaics <span class="k">in </span>the format namespaceName:mosaicName::absoluteAmount, add multiple mosaics splitting them with a comma:
<span class="o">&gt;</span> company.safety:seal::1000,nem:xem::1000000000</code></pre></figure>


            </div>
            <div class="page-navigation">
                
                <a class="prev" href="/en/lessons/solution/">&laquo; One possible solution</a>
                
                
                <a class="next" href="/en/lessons/registering-products/">Registering products &raquo;</a>
                
            </div><a class="u-url" href="/en/lessons/setup/" hidden></a>

        </article>
    </div>

</div>
      </div>
    </main><footer class="site-footer h-card">
    <div class="wrapper">
        <div class="footer-col-wrapper row">

            <div class="footer-col col-4">
                <i class="fas fa-code"></i> <a href="https://nemtech.github.io">Developer Center</a>
            </div>

            <div class="footer-col col-4">
                <i class="fab fa-slack"></i> <a  href="https://join.slack.com/t/nem2/shared_invite/enQtMzY4MDc2NTg0ODgyLTFhZjgxM2NhYTQ1MTY1Mjk0ZDE2ZTJlYzUxYWYxYmJlYjAyY2EwNGM5NzgxMjM4MGEzMDc5ZDIwYTgzZjgyODM">General Discussion</a>
            </div>

            <div class="footer-col col-4">
                <i class="fab fa-stack-overflow"></i><a  href="https://stackoverflow.com/tags/nem/"> Development questions</a>
            </div>
        </div>

    </div>
</footer>
<script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<script type="text/javascript" src="/en/assets/custom.js"></script></body>

</html>
